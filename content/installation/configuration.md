---
title: "Конфигурация"
menu:
  main:
    name: "Конфигурация"
    weight: 404
    parent: "Установка"
---

# Конфигурация
---

## Настройка интерфейса приложения

После установки и запуска приложения пользователь с правами администратора может настроить отображение данных в приложении. Сделать это можно, запустив ПО и перейдя в Меню пользователя -> Настройки (см. Рисунок 21).

| ![](/images/installation/settings.png "Рисунок 21")  |
|:-----------------------------------------:|
| *Рисунок 21*                              |

Подробнее о настройках в подразделе [Администратор](/interface/admin/index.html#settings).

## Доработка конфигурации

Кроме настройки интерфейса в приложении, Администратор может доработать конфигурацию ПО, внеся изменения в файл [config.json](#config).

В конфигурации `config.json` можно настроить интерфейсные настройки и внутренние настройки. [Используемые параметры](#parametr) для настройки `config.json` описаны ниже.

### config.json {#config}

Для внесения изменений в конфигурацию необходимо установить и запустить ПО, после чего в [дистрибутиве](/installation/distributive/index.html) на ПК пользователя появится файл `config.json`. Вносить изменения в файл конфигурации следует после закрытия приложения.
Пример параметров, содержащихся в `config.json` после запуска и настройки приложения, представлен ниже (см. Листинг 1):

<a name="json">**Листинг 1**</a>

```json
{
  "Web": {
    "ListenUrl": "http://0.0.0.0:8000",
    "UpdateChannel": "release",
    "Title": "Instance Name"
  },
  "Transits": [
    {
      "OutboxPath": "c:/TT/OUTBOX/",
      "InboxPath": "c:/TT/INBOX/",
      "SentPath": "c:/TT/SENT/",
      "ProcessedPath": "c:/TT/PRCSD/",
      "ImportPath": "c:/TT/Import/",
      "ExportPath": "c:/TT/Export/",
      "Doc1CPath": "c:/TT/Doc1C/",
      "DraftPath": "c:/TT/Draft/",
      "ErrorPath": "c:/TT/ERRORS/",
      "VerifyInboxFiles": false,
      "PersonCode": "MC00702000TT"
    },
    {
      "OutboxPath": "c:/TT2/OUTBOX/",
      "InboxPath": "c:/TT2/INBOX/",
      "SentPath": "c:/TT2/SENT/",
      "ProcessedPath": "c:/TT2/PRCSD/",
      "ImportPath": "c:/TT2/Import/",
      "ExportPath": "c:/TT2/Export/",
      "Doc1CPath": "c:/TT2/Doc1C/",
      "DraftPath": "c:/TT2/Draft/",
      "ErrorPath": "c:/TT2/ERRORS/",
      "VerifyInboxFiles": false,
      "PersonCode": "MC00005000TT"
    }
  ],
  "Db": {
    "ConnectionString": "Server=localhost;Port=5432;Database=transit;User Id=postgres;Password=1234;"
  },
  "OperationDay": "2019-11-01",
  "OperationDayGap": "2",
  "OpDayChangeTime": "12:00",
  "StatementAutoRequest": true,
  "FilterPaymentsByOperationDay": "False"
}
```

### Описание используемых параметров {#parametr}

#### Конфигурация веб-сервера

- Параметр `Web.ListenUrl` задает url, по которому будет доступен Транзит 2.0 (по умолчанию `localhost`).

  Для доступа к Транзит 2.0 на другом ПК следует изменить `localhost` на доменное имя ПК или на его IP-адрес, при этом проверить в настройках, что по указанному порту (например, `8010`) можно обращаться к данному ПК извне.

  Пример, если адрес ПК в сети `192.168.1.100`, то в адресной строке для вызова Транзит 2.0 с другого ПК следует написать `http://192.168.1.100:8010/`.

- Параметр `Web.Title` задает название экземпляра приложения.
- Параметр `Web.UpdateChannel` задает канал для обновления версии. Возможные значения параметра: `release` | `test` | `experimental` | `dev`.
- Параметр `Web.PasswordLifetime` задает время жизни пароля пользователей (в днях).
- Параметр `Web.PasswordNotificationTerm` задает срок уведомления пользователя о смене пароля (в днях). Работает только при заданом `PasswordLifetime`.
- Параметр `Web.HttpsConfig` задает настройку https.

#### Конфигурация логирования

- Параметр `LogConfig.LogEventLevel` задает минимальный уровень логирования.
- Параметр `LogConfig.Directory` задает путь к директории для логирования.

#### Конфигурация БД

- Параметр `Db.Path` задает путь к файлу БД.
- Параметр `Db.ConnectionString` определяет строку подключения к базе данных PostgreSQL.
- Параметр `Db.Password` задает зашифрованный пароль. Если не указан, то не используется.

#### Используемые параметры для Транзит 2.0 и файлового шлюза

- Параметр `Transits[].OutboxPath` определяет путь к папке OUTBOX Файлового шлюза, в которую помещаются пакеты для отправки.
- Параметр `Transits[].InboxPath` определяет путь к папке INBOX Файлового шлюза, в которую приходят пакеты.
- Параметр `Transits[].SentPath` определяет путь к папке SENT Файлового шлюза, в которую помещаются отправленные пакеты.
- Параметр `Transits[].ProcessedPath` определяет путь к папке PRCSD Транзит 2.0, в которую перемещаются обработанные Транзит 2.0 пакеты отправленные или полученные Файловым шлюзом (далее ФШ).
- Параметр `Transits[].Doc1CPath` определяет путь к папке Doc1C Транзит 2.0, в которую перемещаются импортированные 1С файлы.
- Параметр `Transits[].ErrorPath` определяет путь к папке ERRORS ФШ, в которую перемещаются отклоненные ФШ при отправке пакеты.
- Параметр `Transits[].VerifyInboxFiles` включает проверку ЭЦП на принятых файлах.
- Параметр `Transits[].PersonCode` код депонента ЭДО НРД.
- Параметр `Transits[].WorkingDirectory`определяет рабочую директорию.
- Параметр `IsFGateRest` используется для настройки REST ФШ.

##### Прочее

- Параметр `OperationDay` указывает дату операционного дня. Если дата не указана, по умолчанию в параметр записывается текущая дата.
- Параметр `OperationDayGap` указывает количество дней до даты операционного дня, актуальных для запроса статуса ПП.
- Параметр `OpDayChangeTime` указывает время, в которое будет осуществлено обновление операционного дня на текущий. Если параметр не указан, по умолчанию обновление операционного дня осуществляться не будет.
- Параметр `StatementAutoRequest` имеет булевое значение и определяет, будет ли осуществляться автоматический запрос выписки.
- Параметр `UpdateFreq` указывает частоту обновления в секундах статусов на вкладке Платежные Поручения. Если параметр не указан, по умолчанию считается равным 300 секунд (5 минут).
- Параметр `FilterPaymentsByOperationDay` включает/выключает фильтрацию списка платежных поручений по текущему операционному дню.
- Параметр `FileTransferConfig.SftpDirectory` задание конфигурации sftp клиента.
- Параметр `StatementAutoRequest` используется для настройки автозапроса выписок.
