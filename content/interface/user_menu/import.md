---
title: "Импорт"
date: 2021-10-05T22:57:32+03:00
menu:
  main:
    name: "Импорт"
    weight: 405
    parent: 'Интерфейс пользователя'
---

# Импорт {#exchange_1c}
---

В разделе **Импорт** осуществляется работа с платежными поручениями.

В данном разделе производится импорт документов и дальнейшее их преобразование. Раздел позволяет:

- загрузить файлы 1С и преобразовать в формат банка (если у пользователя есть необходимые [полномочия](/interface/admin/index.html#users_permissions));
- подписать и отправить документ в банк получателя (если у пользователя есть необходимые [полномочия](/interface/admin/index.html#users_permissions));
- отклонить документ;
- удалить документ;
- скачать документ в формате `.pdf`;
- сформировать реестр платежей;
- удалить документ из реестра;
- сбросить статус документа до черновика;
- отобразить документы с платежами реестров;
- выбрать все доступные документы с учетом фильтров;
- отсортировать документы при помощи стрелок в заголовках полей;
- отфильтровать документы при помощи пустых полей для поиска под заголовками;
- отфильтровать выписки при помощи набора [статусов](/about/status_model/index.html#exchange_1c);
- закрепить необходимые фильтры по столбцам в верхней части таблицы;
- ознакомиться с суммой по выбранным документам.

| ![](/images/interface/exchangec.png "Раздел Импорт") | 
|:-----------------------------------------:| 
| *Раздел Импорт*                              |

Для загрузки файлов 1С необходимо:

1. нажать на кнопку `Загрузить и преобразовать в ISO`;
2. в модальном окне нажать на кнопку `Добавить файл` и выбрать необходимые документы из директории на компьютере пользователя;
3. выделить необходимые файлы, кликнув на галочку слева;
4. нажать на кнопку `Конвертировать`.

Для задания группы необходимо:

1. выделить необходимые строки галочками;
2. нажать на кнопку `Задать группу`;
3. в модальном окне ввести название группы в соответствии с маской ввода;
4. нажать на кнопку `Сохранить`.

## Представление данных, фильтрация и сортировка {#import_filters}

В табличной части представлена информация об импортированных платежных поручениях и [реестрах](#import_registry). Текущему пользователю платежные поручения и реестры по счету доступны для просмотра, при условии, что в настройках пользователя для искомого счета и типа документа включено полномочие `Просмотр`.

| ![](/images/interface/import_pp_permissions_view.png "Полномочие на просмотр ПП")    | 
|:----------------------------------------------:| 
| *Полномочие на просмотр ПП* 

В разделе **Импорт** в табличной части предусмотрены следующие столбцы:

  - `Реестр` - отображается номер реестра для реестров, для платежных поручений отображается значение *Нет*. Значение в поле фильтра вводится вручную;
  - `Банк плательщика` - отображается наименование банка плательщика. Значение в поле фильтра устанавливается чекбоксом, предусмотрена возможность текстового поиска;
  - `Номер счета` - отображается номер счета отправителя. Значение в поле фильтра устанавливается чекбоксом, предусмотрена возможность текстового поиска;
  - `Номер ПП` - для платежных поручений отображается номер платежного поручения, для реестров - значение *Реестр*. Значение в поле фильтра вводится вручную;
  - `Дата импорта` - дата и время, когда было импортировано платежное поручение или создан реестр;
  - `Отправитель` - отображается отправитель платежного поручения/реестра. Значение в поле фильтра устанавливается чекбоксом, предусмотрена возможность текстового поиска; 
  - `Получатель` - отображается получатель платежного поручения/реестра. Значение в поле фильтра вводится вручную;
  - `Банк получателя` - отображается наименование банка получателя. Значение в поле фильтра вводится вручную;
  - `Назначение` - отображается назначение платежа. Значение в поле фильтра вводится вручную;
  - `Дата` - отображается дата, указанная в платежном поручении, для реестра - дата создания реестра.  Значение в поле фильтра выбирается из календаря;
  - `Сумма` - для платежного поручения указывается сумма, для реестра указывается общая сумма по всем платежным поручениям, входящим в реестр. Значение в поле фильтра вводится вручную;
  - `Статус` - по аналогии с другими разделами в ТТ отображается текущий статус сообщения. Значение в поле фильтра устанавливается чекбоксом, предусмотрена возможность текстового поиска;
  - `Срочно` - отображается пометка о срочности документа, значение *Да* или *Нет*. Значение в поле фильтра выбирается из выпадающего списка;
  - `Получатель ИНН/КИО` - отображается ИНН/КИО получателя. Значение в поле фильтра вводится вручную;
  - `Получатель расчетный счет` - отображается расчетный счет получателя. Значение в поле фильтра вводится вручную;
  - `Тип ошибки` - отображается тип ошибки, в случае отсутствии ошибки - значение *Нет*. Значение в поле фильтра устанавливается чекбоксом, предусмотрена возможность текстового поиска;
  - `Группа` - отображается группа. Значение в поле фильтра вводится вручную;
  - `Код сообщения` - отображается [код сообщения](#import_assign_message_code) для счетов модулей ВТБ и ВТБ(НРД). Значение в поле фильтра устанавливается чекбоксом, предусмотрена возможность текстового поиска;
  - `Тип создания` - отображается тип создания платежного поручения (значения API, Импорт, ЭФ, МХТ) в зависимости от того как было создано ПП, для реестров стоит прочерк. Значение в поле фильтра устанавливается чекбоксом, предусмотрена возможность текстового поиска;
  - `Фазы` - по аналогии с другими разделами в ТТ отображаются все фазы сообщения (подписание или согласование), выполненные фазы помечаются галочкой;

На рисунке ниже представлена табличная часть в разделе "Импорт":

| ![](/images/interface/import_pp_table.png "Раздел Импорт")    | 
|:----------------------------------------------:| 
| *Раздел Импорт*    

Терминал Транзита предоставляет возможность устанавливать фильтры в любых столбцах, а также сортировать данные в таблице по любому из столбцов. Так, например, на рисунке ниже табличная часть отфильтрована по полю *номер ПП* со значением "Реестр", т. е. в табличной части при таком фильтре будут фигурировать только реестры. Здесь же в таблице данные отсортированы по сумме реестра по возрастанию (для сортировки необходимо кликнуть левой кнопкой мышки по стрелочкам справа от заголовка столбца). Столбец, по которому отсортированы данные в таблице, подсвечивается синим цветом.

| ![](/images/interface/import_pp_sorting_filter.png "Сортировка и фильтр")    | 
|:----------------------------------------------:| 
| *Сортировка и фильтр*    

## Форма "Платежное поручение" {#payment_form}

При двойном нажатии на левую кнопку мыши в строке таблицы открывается форма "Платежное поручение".

Для платежного поручения на форме присутствуют следующие кнопки:

1. `Скачать XML`-  по кнопке скачивается документ в формате банка (для большинства банков это формат ISO20020, для ряда банков предусмотрены свои форматы);
2. `Скачать УФ` - по кнопке скачивается документ в универсальном формате;
3. `Скачать PDF` - документ скачивается в формате PDF (печатная форма документа);
4. `Создать шаблон` - по кнопке создается шаблон, функционал кнопки дублирует одноименную кнопку в табличной части (подробнее см. раздел [Создание шаблона и импорт из шаблона](#import_templates));
5. `Обновить` - обновляется форма в соответствии с актуальными данными по документу;
6. `Скачать диагностическую информацию` - скачивается архив, который содержит следующие файлы:
    * Лог Терминала Транзита за дату проведения документа;
    * Версия приложения;
    * Информация с вкладки "Детализация" по документу;
    * Информация с вкладки "История статусов";
    * Документ в формате банка;
    * Документ в универсальном формате;
    * Конфигурационный файл Терминала Транзита;
    * Конфигурационный файл модуля банка;

Данный архив может быть скачен и направлен в техническую поддержку при возникновении проблем или ошибок в процессе работы с приложением Транзит 2.0.        

На форме для платежного поручения предусмотрены следующие вкладки:
1. `Документ` - отображается печатная форма платежного поручения;
2. `Детализация` - отображаются параметры документа и их значения;
3. `История статусов` - можно проследить изменение статусов документа;
4. `XML` - в случае если документ находится в статусе **Черновик**, то он будет отображаться в универсальном формате (json). Иначе, если документ был конвертирован в формат банка (при согласовании или подписании), то он будет отображаться в формате банка (для большинства банков это формат ISO20020, для ряда банков предусмотрены свои форматы);

На рисунке ниже представлена форма "Платежное поручение":

| ![](/images/interface/import_paymentForm.png "Форма \"Платежное поручение\"")    | 
|:----------------------------------------------:| 
| *Форма \"Платежное поручение\"* 

Аналогичная форма открывается для реестра по двойному нажатию на левую кнопку мыши (подробнее по реестрам см. раздел [Работа с реестрами в разделе "Импорт"](#import_registry)).

На форме для реестра доступны только кнопки:

1. `Обновить` - обновляется форма в соответствии с актуальными данными по документу;
2. `Скачать диагностическую информацию` - скачивается архив с диагностической информацией;

Остальные кнопки для реестра на форме заблокированы.

Для реестра на форме предусмотрены следующие вкладки:

1. `Детализация` - отображаются параметры реестра, и их значения;
2. `Реестр` - отображается информация по реестру (количество платежных поручений в реестре и итоговая сумма по всем реестрам);
3. `История статусов` - можно проследить изменение статусов документа;
4. `Связанные документы` - на данной форме вкладка отображается только для реестров, на этой вкладке присутствует информация по платежным поручениям, находящимся в реестре;
5. `XML` - вкладка отображается только после подписания / согласования реестра, на вкладке отображается реестр в формате банка (для большинства банков это формат ISO20020, для ряда банков предусмотрены свои форматы);

На рисунке ниже продемонстрирован пример того, как выглядит форма "Платежное поручение" **для реестра**:

| ![](/images/interface/import_paymentForm_reestr.png "Форма \"Платежное поручение\" для реестра")    | 
|:----------------------------------------------:| 
| *Форма \"Платежное поручение\" для реестра* 

## Подписание ПП и реестров {#import_pp_sign}

В разделе *Импорт* предусмотрена кнопка `Подписать`/`Согласовать` для тех счетов, для которых настроенная модель включает фазы подписания/согласования.

Название кнопки динамично в зависимости от того, какой у текущей фазы тип - подписание или согласование. Если тип **Подпись**, то кнопка будет иметь название "Подписать и отправить" либо "Подписать" (в случае, если настроено несколько подписей, и проставляемая подпись не является заключительной). Аналогично, если настроено согласование, то кнопка называется "Согласовать и отправить" либо "Согласовать" (в случае если настроено несколько фаз согласований, и текущее согласование не является заключительным).

***Пример:***

Рассмотрим подписание платежных поручений на примере.

Допустим, настроенная модель подписания документа включает 3 фазы, первая фаза с типом *Согласование*, вторая и третья фазы с типом *Подпись*:

| ![](/images/interface/import_pp_sign_model.png "Настройка модели счета")    | 
|:----------------------------------------------:| 
| *Настройка модели счета* 

У одного из пользователей (назовем его *пользователь А*) настроены полномочия и добавлена первая фаза подписания с типом *Согласование*: 

| ![](/images/interface/import_pp_user1.png "Полномочия пользователя А")    | 
|:----------------------------------------------:| 
| *Полномочия пользователя А* 

У второго пользователя (назовем его *пользователь Б*) настроены полномочия и добавлена вторая фаза подписания с типом *Подпись*: 

| ![](/images/interface/import_pp_user2.png "Полномочия пользователя Б")    | 
|:----------------------------------------------:| 
| *Полномочия пользователя Б* 

У третьего пользователя (назовем его *пользователь В*) настроены полномочия и добавлена третья фаза подписания с типом *Подпись*: 

| ![](/images/interface/import_pp_user3.png "Полномочия пользователя В")    | 
|:----------------------------------------------:| 
| *Полномочия пользователя В* 

Порядок проставления подписей зависит от выбранного в счете типа модели подписания: [Последовательная](#sequential_model) или [Иерархическая](#hierarchical_model). 
При последовательной модели подписания порядок проставления подписей четко определен, для рассматриваемого примера сначала требуется согласование *пользователем А*, только после этого проставляет подпись *пользователь Б*, и далее заключительную подпись ставит *пользователь В*. При иерархической модели подписания порядок проставления подписей может быть любой, например, сначала *пользователь Б* или *пользователь В* может проставить подпись, а затем *пользователь А* выполнит согласование. Допускается любая другая последовательность.

Для рассматриваемого примера будем считать, что для счета установлена последовательная модель подписания:

| ![](/images/interface/import_pp_account_model.png "Настройки счета")    | 
|:----------------------------------------------:| 
| *Настройки счета* 

В этом случае документы подписываются/согласуются в строгой последовательности, один за другим согласно нумерации фаз.

Таким образом, сначала *пользователь А* выполняет согласование, согласно первой фазе. 

В интерфейсе для этого необходимо отметить соответствующие платежные поручения/реестры, можно это сделать одним из способов:

- выделить документы галочкой в первом столбце (можно заранее отфильтровать записи в таблице по нужным параметрам и установить галочку в первом столбце в шапке таблицы - все отфильтрованные записи автоматически выделятся галочкой, и также автоматом галочкой будет помечена соответствующая фаза в столбце *Фазы*);
- в столбце *Фаза* отметить для документов галочкой соответствующую фазу (можно заранее отфильтровать записи в таблице по нужным параметрам и установить галочку в столбце *Фазы* в верхней строке - все отфильтрованные записи автоматически отметятся галочкой);
 
После того как необходимые записи были отмечены галочками *пользователь А* на кнопку `Согласовать` (наименование кнопки соответствует типу подписания):

| ![](/images/interface/import_pp_sign_user1.png "Согласование ПП пользователем А")    | 
|:----------------------------------------------:| 
| *Согласование ПП пользователем А* 

После этого статус документа перейдет из статуса *Черновик* в статус *На контроле*. В столбце *Фазы* будет проставлена первая по счету галочка для искомых записей в таблице, что информирует пользователя о том, что документ был согласован на первой фазе.

Далее *пользователь Б*, которому назначено подписание второй фазы, может проставить подпись. Для этого ему необходимо выбрать соответствующие документы и нажать на кнопку `Подписать` (наименование кнопки соответствует типу подписания):

| ![](/images/interface/import_pp_sign_user2.png "Подписание ПП пользователем Б")    | 
|:----------------------------------------------:| 
| *Подписание ПП пользователем Б* 

После этого в столбце *Фазы* будет проставлена вторая по счету галочка для искомых записей в таблице, что информирует пользователя о том, что документ был подписан на второй фазе.

Далее *пользователь В*, которому назначено подписание третьей фазы, может проставить заключительную подпись. Для этого ему необходимо выбрать соответствующие документы и нажать на кнопку `Подписать и отправить` (кнопка имеет такое название поскольку подпись является заключительной):

| ![](/images/interface/import_pp_sign_user3.png "Подписание ПП пользователем В")    | 
|:----------------------------------------------:| 
| *Подписание ПП пользователем В* 

После проставления заключительной подписи искомые платежные поручения меняют статус и перемещаются в раздел *Платежные поручения*. В разделе *Импорт* эти документы больше не фигурируют.

| ![](/images/interface/import_pp_sign_ultimate.png "Перемещение ПП в раздел Платежные поручения")    | 
|:----------------------------------------------:| 
| *Перемещение ПП в раздел Платежные поручения* 

## Назначение кода сообщения {#import_assign_message_code}

В интерфейсе Терминала Транзита предусмотрена возможность назначения кода сообщения. Данный функционал доступен исключительно для счетов модулей ВТБ и ВТБ(НРД) для платежных поручений, находящихся в статусе *Черновик*.

Для того чтобы назначить код сообщения, необходимо:

  1. выделить галочкой соответствующие платежные поручения (также можно заранее отфильтровать табличную часть и воспользоваться галочкой в шапке таблицы, чтобы отметить сразу все отфильтрованные записи);
  2. нажать на кнопку `Назначить код сообщения`;
  3. из появившегося списка выбрать соответствующий код:
  
      * А1 (Приоритетный платеж)
      * А2 (Платеж в счет кредитных средств)
      * А3 (Платеж по оплате кредита)
      * D1 (Перевод рублей во внеоперационное время)
      * R1 (Перечисление в рамках услуги Материальный пулинг)
      * Не задан - в списке доступно также значение "Не задан" на случай, если необходимо снять установленный код.

| ![](/images/interface/import_assign_message_code.png "Назначение кода сообщения")   | 
|:--------------------------------------------------:| 
| *Назначение кода сообщения*                                       |

После того как код сообщения будет назначен, значение кода отобразится в интерфейсе для искомых платежных поручений в столбце `Код сообщения`:

| ![](/images/interface/import_assign_message_code_in_table.png "Отображение кода сообщения в таблице")   | 
|:--------------------------------------------------:| 
| *Отображение кода сообщения в таблице*                                       |

## Создание шаблона и импорт из шаблона {#import_templates}

В Терминале Транзита в разделе **Импорт** предусмотрена возможность работы с шаблонами для облегчения процесса импорта документов. Пользователь на основании загруженных ранее документов может создавать шаблоны. Далее при необходимости можно выполнить импорт из соответствующего шаблона, таким образом подставятся все необходимые реквизиты согласно выбранному шаблону.

Для создания шаблона необходимо:

1. выделить необходимую строку галочкой;
2. нажать на кнопку `Создать шаблон`;
3. в модальном окне ввести название шаблона;
4. нажать на кнопку `Создать`.

| ![](/images/interface/create_template.png "Создание шаблона")   | 
|:--------------------------------------------------:| 
| *Создание шаблона*                                       |

Для осуществления импорта из шаблона необходимо:

1. нажать на кнопку `Шаблоны`;
2. в строке с шаблоном, который необходимо применить, нажать на кнопку "Использовать" (значок карандаша);
3. заполнить поля `Номер платежного поручения`, `Сумма`, при необходимости отредактировать `Назначение платежа`;
4. нажать на кнопку `Создать`.

После этого документ будет импортирован согласно выбранному шаблону (все реквизиты автоматом подгрузятся из шаблона).

| ![](/images/interface/apply_template.png "Импорт из шаблона")   | 
|:--------------------------------------------------:| 
| *Импорт из шаблона*                                       |

*Примечание: Шаблоны для искомого счета доступны для просмотра, использования, удаления и создания при условии, что в настройках пользователя для данного счета установлено полномочие "Импорт". В противном случае создание шаблона для выбранного счета и импорт из шаблона невозможны.*

## Работа с реестрами в разделе "Импорт" {#import_registry}

Для ряда модулей таких как *Альфа-Банк*, *Газпромбанк (Версия 6)*, *ИНГ Банк*, *Банк Открытие*, *Россельхозбанк*, *ЮнриКредит Банк* предусмотрена возможность объединения платежных поручений в реестр.

Для того чтобы включить такую возможность для банковского модуля, необходимо перейти в **Настройки->Банковские модули**, далее перейти в соответствующий банковский модуль, включить опцию `Поддержка формирования реестров`, после чего на форме отобразятся дополнительные поля:

  * `Минимальное количество платежей в реестре` - указывается минимальное число платежных поручений, которые можно добавить в реестр. Для меньшего количества платежных поручений возможность создания реестра будет блокироваться;
  * `Максимальное количество платежей в реестре` - указывается максимальное число платежных поручений, которые можно добавить в реестр. Для большего количества платежных поручений возможность создания реестра будет блокироваться;
  
Для сохранения введенных настроек необходимо нажать на кнопку `Сохранить конфигурацию выбранного модуля`.

| ![](/images/interface/import_registry_settings.png "Включение поддержки реестров для банковского модуля")   | 
|:--------------------------------------------------:| 
| *Включение поддержки реестров для банковского модуля*   

После того как возможность формирования реестров была включена для банковского модуля, у пользователя в разделе **Импорт** появляется возможность объединять платежные поручения в реестр.
При этом в реестр добавляются платежные поручения исключительно в статусе **Черновик**.

Для того чтобы объединить платежные поручения в реестр, необходимо выделить их галочкой и нажать на кнопку `Сформировать реестр платежей`. Для удобства можно заранее отфильтровать табличную часть по нужному полю (например, номер счета и статус) и отметить сразу все документы (галка в первом столбце в шапке таблицы):

| ![](/images/interface/import_registry_add.png "Добавление платежных поручений в реестр")   | 
|:--------------------------------------------------:| 
| *Добавление платежных поручений в реестр*   

После чего в табличной части можно будет увидеть сформированный реестр. При этом платежные поручения, находящиеся в составе реестра, в табличной части отображаться не будут:

| ![](/images/interface/import_registry_in_table.png "Сформированный реестр")   | 
|:--------------------------------------------------:| 
| *Сформированный реестр*   

Для того чтобы в табличной части отобразить платежные поручения, находящиеся в составе реестра, необходимо установить опцию `Показывать платежи реестров`:

| ![](/images/interface/import_registry_see_payments.png "Опция \"Показывать платежи реестров\"")   | 
|:--------------------------------------------------:| 
| *Опция \"Показывать платежи реестров\"*   

В Терминале Транзита предусмотрена возможность удаления платежных поручений из состава реестров. Удалить из реестра можно только документы в статусе **Черновик**. 

Для удаления платежных поручений из реестра необходимо:

1. Установить опцию `Показывать платежи реестров`, чтобы отобразить в табличной части платежные поручения в составе реестров;
2. Отметить галочкой платежные поручения, которые необходимо удалить из реестра;
3. Нажать на кнопку `Удалить из реестра`;

| ![](/images/interface/import_registry_delete_payment.png "Удаление платежных поручений из реестра")   | 
|:--------------------------------------------------:| 
| *Удаление платежных поручений из реестра*   

## Отклонение ПП и реестров {#import_pp_reject}

В разделе "Импорт" предусмотрена кнопка `Отклонить`, которая позволяет перевести платежное поручение или реестр из статуса *Черновик* в статус *Отклонено пользователем*, а также из статуса *На контроле* в статус *Отклонено на этапе контроля*.

Кнопка активируется только для документов в статусах *Черновик* или *На контроле* при условии, что у пользователя в настройках для искомого счета включено полномочие `Отклонение`.

| ![](/images/interface/import_pp_permissions_reject.png "Настройка полномочий пользователя")    | 
|:----------------------------------------------:| 
| *Настройка полномочий пользователя* 

Чтобы отклонить платежное поручение или реестр, необходимо выделить его галочкой, после чего нажать на кнопку `Отклонить`.

| ![](/images/interface/bankletters_reject.png "Отклонение ПП")    | 
|:----------------------------------------------:| 
| *Отклонение ПП*

После отклонения документы продолжают фигурировать в табличной части с измененными статусами на *Отклонено пользователем* или *Отклонено на этапе контроля* в зависимости от исходного статуса документа. 

Можно отклонить сразу несколько документов, выделив их всех галочкой, и нажав на кнопку `Отклонить`.

## Удаление ПП и реестров {#import_pp__delete}

В разделе "Импорт" предусмотрена кнопка `Удалить`, которая позволяет удалять платежные поручения и реестры в статусах *Черновик*, *Отклонен на этапе контроля* и *Ошибка преобразования*.

Кнопка активируется только для платежных поручений и реестров в перечисленных выше статусах при условии, что у пользователя в настройках для искомого счета включено полномочие `Удаление`.

| ![](/images/interface/import_pp_permissions_delete.png "Настройка полномочий пользователя")    | 
|:----------------------------------------------:| 
| *Настройка полномочий пользователя* 

Чтобы удалить документ, необходимо выделить его галочкой, после чего нажать на кнопку `Удалить`.

| ![](/images/interface/import_pp_delete.png "Удаление ПП и реестров")    | 
|:----------------------------------------------:| 
| *Удаление ПП и реестров*

Искомый документ будет удален, тем самым исчезнет из табличной части.

Можно удалить сразу несколько документов, выделив их всех галочкой, и нажав на кнопку `Удалить`. Предварительно можно установить фильтр по любым из параметров, и выделить разом отфильтрованные записи в таблице, нажав на галочку в шапке таблицы в первом столбце.

## Сброс статуса ПП и реестра до черновика {#import_pp_draft_reset}

**Только для пользователей с правами "Администратор"** в разделе "Импорт" предусмотрена кнопка `Сбросить до черновика`. По её нажатию осуществляется перевод платежного поручения или реестра в статус *Черновик*. Данная кнопка активируется только для платежных поручений и реестров, находящихся в статусе *Ошибка преобразования*, *На контроле*, *Отклонено на этапе контроля*.

Для того чтобы сбросить статус платежного поручения или реестра до значения *Черновик*, необходимо выделить его галочкой и нажать на кнопку `Сбросить до черновика`.

| ![](/images/interface/import_pp_draft_reset.png "Сброс статуса ПП до черновика")    | 
|:----------------------------------------------:| 
| *Сброс статуса ПП до черновика*

При необходимости можно сбросить до статуса *Черновик* сразу несколько документов. Для этого необходимо отметить галочкой все подходящие документы и нажать на кнопку `Сбросить до черновика`.

## Сохранение ПП в формате PDF {#import_download_pdf}

Терминал Транзита предоставляет пользователю возможность скачивания платежных поручения в формате PDF. Можно скачать каждое платежное поручение в отдельном файле PDF либо скачать несколько платежных поручений в одном файле.

Если требуется скачать несколько платежных поручений в одном файле, необходимо выделить их галочкой (предварительно можно установить фильтр по любым из параметров, и выделить разом отфильтрованные записи в таблице, нажав на галочку в шапке таблицы в первом столбце) и нажать на кнопку `Скачать в одном PDF`. Кнопка `Скачать в одном PDF` появляется в интерфейсе после того как были отмечены галочкой 2 и более документов.

Файл с платежными поручениями в формате PDF будет сохранен на компьютер.

| ![](/images/interface/import_download_one_pdf.png "Скачивание платежных поручений в одном PDF")    | 
|:----------------------------------------------:| 
| *Скачивание платежных поручений в одном PDF*

Если необходимо каждое платежное поручение сохранить в отдельном файле, то необходимо выделить галочкой соответствующие платежные поручения и нажать на кнопку `Скачать PDF`. Файлы с платежными поручениями в формате PDF будут сохранены на компьютер. Каждое платежное поручение сохраняется в отдельном файле.

| ![](/images/interface/import_download_pdf.png "Скачивание платежных поручений в PDF")    | 
|:----------------------------------------------:| 
| *Скачивание платежных поручений в PDF*

**Важно!** Для скачивания в формате PDF отмечать галочкой нужно только платежные поручения. Если отметить галочкой реестр, то кнопки `Скачать PDF` и `Скачать в одном PDF` будут заблокированы. Для удобства можно воспользоваться фильтром и исключить реестры, установив значение "Нет" в фильтре в столбце *Реестр*.

## Типы моделей подписания

Терминал Транзита предоставляет возможность настраивать порядок проставления ЭЦП на документах перед отправкой в банк. Тип модели подписания указывается в настройках счета.

Всего поддерживаются 2 типа моделей подписания:

  * [Последовательная модель подписания](#sequential_model) – подписи проставляются в строгой последовательности одна за другой согласно настроенным фазам;
  * [Иерархическая модель подписания](#hierarchical_model)- подписи проставляются в любой последовательности;

### Последовательная модель подписания {#sequential_model}

Рассмотрим пример, когда в настройках счета в качестве типа модели подписания установлена `Последовательная`.

| ![](/images/interface/sequential_model_account.png "Настройки счета - последовательное подписание")   | 
|:--------------------------------------------------:| 
| *Настройки счета - последовательное подписание*    |

Допустим, в настройках модели подписания счета указано 3 фазы подписания:

| ![](/images/interface/sequential_model_settings.png "Настройка модели счета")   | 
|:--------------------------------------------------:| 
| *Настройка модели счета* |

В настройках полномочий для искомого пользователя установлена **Подпись** третьей фазы (последней), т. е. данный пользователь выполняет подписание третьей фазы. Следует отметить, что у пользователя должны быть права на **Просмотр**, чтобы документы по искомому счету отображались в табличной части для этого пользователя.

| ![](/images/interface/sequential_model_permissions.png "Настройка полномочий пользователя")   | 
|:--------------------------------------------------:| 
| *Настройка полномочий пользователя* |     

В разделе **Импорт** в табличной части в столбце **Фазы** чекбоксы ни для одной из фаз не активны. Первая фаза не активна, поскольку у текущего пользователя нет полномочий на подписание этой фазы. Третья фаза не активна, поскольку первые две фазы еще не подписаны, а последовательное подписание предполагает, что пользователь сможет поставить подпись только тогда, когда все предыдущие фазы будут подписаны.

| ![](/images/interface/sequential_model_import.png "Фазы подписания - последовательное подписание")   | 
|:--------------------------------------------------:| 
| *Фазы подписания - последовательное подписание* |  

После того как первая и вторая фаза будут подписаны другими пользователями, для искомого пользователя чекбокс с третьей фазой станет активным. Таким образом, пользователь может подписать третью фазу для всех документов, проставив галочки в чекбоксах для искомой фазы и нажав на кнопку `Подписать и отправить`. 

Терминал Транзита предусматривает возможность проставить сразу все чекбоксы по фазе для отфильтрованных записей таблицы. Для этого необходимо проставить чекбокс для подписываемой фазы в верхней строчке таблицы.  

| ![](/images/interface/sequential_model_import2.png "Настройка модели счета - последовательное подписание")   | 
|:--------------------------------------------------:| 
| *Настройка модели счета - последовательное подписание* |  

### Иерархическая модель подписания {#hierarchical_model}

Теперь рассмотрим пример, когда в качестве типа модели подписания выбрана `Иерархическая`.

В настройках счета соответственно указан иерархический тип модели подписания:

| ![](/images/interface/hierarchical_model_account.png "Настройки счета - иерархическое подписание")   | 
|:--------------------------------------------------:| 
| *Настройки счета - последовательное подписание*    |

Настройки модели счета и настройки полномочия для данного счета пусть будут такие же, как и для примера последовательной модели, т.е. всего 3 фазы подписания, и текущий пользователь имеет полномочие на подписание третьей фазы.

В этом случае, в отличие от последовательной модели подписания, несмотря на то, что первые 2 фазы еще не подписаны, пользователь может подписать третью фазу, поскольку при иерархической модели подписания порядок проставления подписей не важен:

| ![](/images/interface/hierarchical_model_import.png "Настройка модели счета - иерархическое подписание")   | 
|:--------------------------------------------------:| 
| *Настройка модели счета - иерархическое подписание* |  
