---
title: "Виды подписания"
date: 2021-10-05T22:57:32+03:00
menu:
  main:
    name: "Виды подписания"
    weight: 401
    parent: 'Руководство пользователя'
---

# Виды подписания в Терминале Транзита
---

 Терминал Транзита на данный момент поддерживает следующие виды подписей:

    * Серверное подписание КриптоПРО;
    * Клиентское подписание КриптоПРО;
    * Криптографический сервис НРД(ГОСТ/RSA);

Также из подписи формата Валидата имеется возможность сделать сертификат формата Криптопро для серверной и клиентской подписи.

Ниже приведена более подробная информация для каждого из видов подписаний.

## Настройка Серверного подписания КриптоПРО {#sign_server_cryptopro}

Чтобы настроить серверное подписание КриптоПРО, необходимо:
1. выполнить вход в веб-кабинет по IP-адресу или доменному имени под пользователем с правами Администратора;
2. перейти в `Настройки`, раздел `Пользователи`;
3. кликнуть левой кнопкой мыши на соответствующего пользователя, нажать на кнопку `Сертификаты`;
4. нажать на кнопку `Добавить сертификат`, заполнить поля:
      * `Тип сертификата` - значением "Сервер";
      * `Криптопровайдер` - значением "КриптоПро";
5. нажать на кнопку `Обновить список сертификатов` - с помощью плагина КриптоПро будет отправлен запрос на сервер в Справочник сертификатов;
6. отобразится поле `Выберите сертификат` со списком найденных сертификатов, необходимо выбрать нужный сертификат из списка, в данном поле предусмотрен текстовый поиск (можно воспользоваться для ускорения поиска необходимого сертификата);
7. нажать на кнопку `Добавить сертификат`;

| ![](/images/interface/signing_types/certificate_server_cyptopro_add.png "Добавление сертификата Сервер КриптоПро")      | 
|:-----------------------------------------:| 
| *Добавление сертификата Сервер КриптоПро*   

При подписании на сервере никаких дополнительных действий не потребуется, поскольку сервер знает всю информацию о сертификате.


## Настройка Клиентского подписания КриптоПРО {#sign_client_cryptopro}

Чтобы настроить клиентское подписание КриптоПРО, необходимо:
1. выполнить вход в веб-кабинет по IP-адресу или доменному имени под пользователем с правами Администратора;
2. перейти в `Настройки`, раздел `Пользователи`;
3. кликнуть левой кнопкой мыши на соответствующего пользователя, нажать на кнопку `Сертификаты`;
4. нажать на кнопку `Добавить сертификат`, заполнить поля:
      * `Тип сертификата` - значением "Клиент";
      * `Криптопровайдер` - значением "КриптоПро";
      * `Серийный номер сертификата для подписи на клиенте` - ввести номер сертификата;
5. нажать на кнопку `Добавить сертификат`;

| ![](/images/interface/signing_types/certificate_client_cryptopro_add.png "Добавление сертификата Клиент КриптоПро")      | 
|:-----------------------------------------:| 
| *Добавление сертификата Клиент КриптоПро*   

***Примечание:*** *если серийный номер не удается вспомнить, но в то же время известно, что сертификат есть на сервере, можно сначала выбрать серверное подписание, нажать на кнопку `Обновить список сертификатов`, выбрать сертификат, затем нажать на кнопку `Добавить сертификат`. В таблице появится запись, где можно скопировать значение серийного номера, после чего нажать на кнопку "Добавить сертификат", выбрать клиентское подписание и вставить скопированное значение в поле с серийным номером. Запись из таблицы с серверным подписанием можно удалить.*

При проставлении клиентской подписи будут всплывать дополнительные окна. Сначала появится окно **Подтверждение доступа**, в котором необходимо нажать на кнопку `Да`:

| ![](/images/interface/signing_types/certificate_client_cryptopro_confirm.png "Проставление клиентской подписи - подтверждение доступа")      | 
|:-----------------------------------------:| 
| *Проставление клиентской подписи - подтверждение доступа*   

Далее выплывет окно **Выберите сертификат(ы) для подписи**, в котором необходимо выбрать сертификат, и нажать на кнопку `Подписать`:

| ![](/images/interface/signing_types/certificate_client_cryptopro_sign.png "Проставление клиентской подписи - выбор сертификата")      | 
|:-----------------------------------------:| 
| *Проставление клиентской подписи - выбор сертификата*   


## Настройка подписания с помощью Криптографического сервиса НРД(ГОСТ/RSA) {#sign_nsd}

Данный вид подписания предполагает использование ключей в формате Валидата, а значит и криптографический сервис НРД. Должны быть предварительно установлены и настроены АПК Клиент МБ, СКЗИ Валидата CSP и Криптосервис НРД. 

Далее после того как все необходимое программное обеспечение установлено и настроено, чтобы ввести подписание с использованием Криптографического сервиса НРД потребуется:

1. выполнить вход в веб-кабинет по IP-адресу или доменному имени под пользователем с правами Администратора;
2. перейти в `Настройки`, раздел `Пользователи`;
3. кликнуть левой кнопкой мыши на соответствующего пользователя, нажать на кнопку `Сертификаты`;
4. нажать на кнопку `Добавить сертификат`, заполнить поля:
      * `Тип сертификата` - значением "Клиент";
      * `Криптопровайдер` - значением "Криптографический сервис НРД (ГОСТ)" / "Криптографический сервис НРД (RSA)";
      * `Имя профиля для подписи на клиенте` - ввести имя профиля;
5. нажать на кнопку `Добавить сертификат`;

| ![](/images/interface/signing_types/certificate_client_cryptopro_add.png "Добавление сертификата Криптографический сервис НРД(ГОСТ/RSA)")      | 
|:-----------------------------------------:| 
| *Добавление сертификата Криптографический сервис НРД(ГОСТ/RSA)*   

Используемые профили можно посмотреть в Справочнике сертификатов:

| ![](/images/interface/signing_types/certificate_nrd_catalog.png "Справочник сертификатов")      | 
|:-----------------------------------------:| 
| *Справочник сертификатов*   

Для настройки профилей в Справочнике сертификатов необходимо выбрать "Профили –> Настройка профилей":

| ![](/images/interface/signing_types/certificate_nrd_profile_settings.png "Настройка профилей в Справочнике сертификатов")      | 
|:-----------------------------------------:| 
| *Настройка профилей в Справочнике сертификатов*   

При подписании через Криптографический сервис НРД появляется дополнительное окно **Выберите профиль для подписи**, в котором необходимо указать `Тип криптографии` и `Профиль`, и нажать на кнопку `Подписать` :

| ![](/images/interface/signing_types/certificate_nrd_sign.png "Подписание через Криптографический сервис НРД")      | 
|:-----------------------------------------:| 
| *Подписание через Криптографический сервис НРД*   
